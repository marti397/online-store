<div class="container secondFont">
    <div class="row mt-sm-4 mt-3">
        <div class="col-sm-2 col-4 mt-sm-5 mt-4 text-center">
            <a href="/admin" class="btn btn-outline-primary secondFont rounded-0">return</a>
        </div>
        <div class="col-sm-2 col-4 mt-sm-5 mt-4 text-center">
            <button type="button" class="btn btn-outline-primary secondFont rounded-0" data-toggle="modal" data-target="#add">add</button>
            <!-- Modal for adding -->
            <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                    <form action="/admin/add-product" method="post">
                        <div class="row">
                            <div class="col-sm-6 mb-sm-3 mb-3 col-12">title: <br>
                                <input id="title" name="title" class="secondFont" type="text" required>
                            </div>
                            <div class="col-sm-6 mb-sm-3 mb-3 col-12">price: USD $ <br>
                                <input id="price" name="price" class="secondFont" type="text" required>
                            </div>
                            <div class="col-sm-6 mb-sm-3 mb-3 col-12">description: <br>
                                <textarea class="secondFont" name="descr" id="descr" cols="20" rows="4"></textarea>
                            </div>
                            <div class="col-sm-6 mb-sm-3 mb-3 col-12">details: <br>
                                <textarea class="secondFont" name="details" id="details" cols="20" rows="4"></textarea>
                            </div>
                            <div class="col-sm-6 mb-sm-3 mb-3 col-12">category:<br>
                                <select class="custom-select custom-select-sm secondFont" id="type" name="type">
                                    <option selected></option>
                                    {{#each data.categories}}
                                    <option value="{{category}}">{{category}}</option>
                                    {{/each}}
                                </select>
                            </div>
                            <div class="col-sm-6 mb-sm-3 mb-3 col-12">style: <br>
                                <input id="style" name="style" class="secondFont" type="text" required>
                            </div>
                            <div class="col-sm-6 mb-sm-3 mb-3 col-12">photos: <br>
                                <input type="file" id="myphotofile" name="myphotofile" class="secondFont" multiple required>
                            </div>
                            <div class="col-sm-12 col-12 mt-3">
                                <button type="submit" class="btn btn-outline-success secondFont rounded-0">add</button>
                            </div>
                        </div>
                    </form>
                </div>
                </div>
            </div>
            </div>
            <!-- Modal for adding -->
        </div>
        <!-- search feature -->
        <div class="col-sm-2 col-4 mt-sm-5 mt-4 text-center">
             <form action="/admin/product" method="get">
                <input type="text" class="form-control form-control-sm border-top-0 border-right-0 rounded-0 border-dark secondFont text-dark" placeholder="product" id="checkData" name="checkData">
                <button type="submit" class="btn btn-outline-primary secondFont rounded-0 mt-sm-4 mt-4 mb-4">search</button>
            </form>
        </div>
        <!-- end of search feature -->
        {{#each data.products}}
        <div class="col-sm-2 col-4 mt-sm-5 mt-5">
            <div class="row">
                <div class="col-sm-12 col-12"><img src="{{imagePath.[0]}}" class="img-fluid" alt="img"></div>
                <div class="col-sm-12 col-12">{{title}}</div>
                <div class="col-sm-12 col-12">${{price}}</div>
                <div class="col-sm-12 col-12">{{type}}</div>
                <div class="col-sm-12 col-12">{{style}}</div>
                <!-- Button trigger modal -->
                <div class="col-sm-6 col-12 mt-1">
                    <button type="button" class="btn btn-outline-success secondFont rounded-0" data-toggle="modal" data-target="#modal{{this._id}}">edit</button>
                </div>
                <!-- Button trigger modal -->
                <div class="col-sm-6 col-12 mt-1">
                    <button type="button" class="btn btn-outline-danger secondFont rounded-0" data-toggle="modal" data-target="#delete{{this._id}}">delete</button>
                </div>
            </div>
        </div>
        {{/each}}
        {{#each data.products}}
            <!-- Modal for updating -->
            <div class="modal fade" id="modal{{this._id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                    <form action="/admin/update-product" method="post">
                        <div class="row">
                            <input type="hidden" id="custId" name="custId" value="{{this._id}}">
                            <div class="col-sm-6 mb-sm-3 col-7">titulo: <br>
                                <input id="title" name="title" class="secondFont" type="text" value="{{title}}" required>
                            </div>
                            <div class="col-sm-6 mb-sm-3 col-7">precio: MXN $ <br>
                                <input id="price" name="price" class="secondFont" type="text" value="{{price}}" required>
                            </div>
                            <div class="col-sm-6 mb-sm-3 col-7">descripci√≥n: <br>
                                <textarea class="secondFont" name="descr" id="descr" cols="20" rows="4">{{descr}}</textarea>
                            </div>
                            <div class="col-sm-6 mb-sm-3 col-7">detalles: <br>
                                <textarea class="secondFont" name="details" id="details" cols="20" rows="4">{{details}}</textarea>
                            </div>
                            <div class="col-sm-6 mb-sm-3 col-7">category:<br>
                                <select class="custom-select custom-select-sm secondFont" id="type" name="type">
                                    <option selected>{{type}}</option>
                                    {{#each ../data.categories}}
                                    <option value="{{category}}">{{category}}</option>
                                    {{/each}}
                                </select>
                            </div>
                             <div class="col-sm-6 mb-sm-3 col-7">estilo: <br>
                                <input id="style" name="style" class="secondFont" type="text" value="{{style}}" required>
                            </div>
                            <div class="col-sm-12 mt-sm-3 mt-3 text-center">
                                <button type="submit" class="btn btn-outline-success secondFont rounded-0">guardar</button>
                            </div>
                        </div>
                    </form>
                </div>
                </div>
            </div>
            </div>
            <!-- Modal for deleting-->
            <div class="modal fade" id="delete{{this._id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                    <form action="/admin/delete-product" method="post">
                        <input type="hidden" id="custId" name="custId" value="{{this._id}}">
                        <div class="row">
                            <div class="col-sm-7 col-12">
                                <img src="{{imagePath}}" class="img-fluid" alt="img">
                            </div>
                            <div class="col-sm-5 col-12 mt-1">
                                <button type="submit" class="btn fluid btn-outline-danger secondFont rounded-0">delete forever</button>
                            </div>
                        </div>
                    </form>
                </div>
                </div>
            </div>
            </div>
        {{/each}}
    </div>
</div>